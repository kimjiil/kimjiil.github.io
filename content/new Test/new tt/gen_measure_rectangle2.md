---
imageNameKey: 2024-08-26-17-57
tags:
  - halcon_function
  - 1D_Measure
---
### **gen_measure_rectangle2 (연산자)**

#### **이름**
**gen_measure_rectangle2** — 직사각형에 수직인 직선 에지 추출 준비.

#### **서명**
`gen_measure_rectangle2( : : Row, Column, Phi, Length1, Length2, Width, Height, Interpolation : MeasureHandle)`

#### **설명**
**gen_measure_rectangle2**는 직사각형의 주요 축에 수직으로 놓인 직선 에지를 추출하기 위한 준비를 합니다. 직사각형의 중심은 **Row**와 **Column** 매개변수로 전달되며, 직사각형의 주요 축 방향은 **Phi**로 전달됩니다. 직사각형의 두 축의 길이, 즉 직사각형의 지름의 절반은 **Length1**과 **Length2**로 전달됩니다.

1D 측정의 개념에 대한 설명은 1D 측정 챕터의 소개 부분을 참조하십시오.

에지 추출 알고리즘에 대한 설명은 **[[measure_pos]]** 연산자의 문서를 참조하십시오. 그곳에서 설명한 것처럼, 1차원 그레이 값 프로파일을 계산하는 데 다양한 유형의 보간(interpolation)을 사용할 수 있습니다. **Interpolation**이 'nearest_neighbor'로 설정된 경우, 측정 시 그레이 값은 가장 가까운 픽셀의 그레이 값에서 가져오며, 이는 상수 보간을 의미합니다. **Interpolation**이 'bilinear'로 설정된 경우, 이중 선형 보간이 사용되며, 'bicubic'으로 설정된 경우에는 삼차 보간이 사용됩니다.

최적의 속도로 실제 측정을 수행하기 위해, 여러 측정에 사용할 수 있는 모든 계산은 이미 **gen_measure_rectangle2** 연산자에서 수행됩니다. 이를 위해 최적화된 데이터 구조인 측정 객체가 생성되어 **MeasureHandle**로 반환됩니다. 측정을 수행할 이미지의 크기는 **Width**와 **Height** 매개변수로 지정해야 합니다.

시스템 매개변수 'int_zooming' (set_system 참조)은 측정 객체를 구성하는 데 사용되는 계산의 정확도와 속도에 영향을 미칩니다. 'int_zooming'이 'true'로 설정된 경우, 내부 계산은 고정 소수점 연산을 사용하여 수행되어 실행 시간이 훨씬 짧아집니다. 그러나 이 모드에서는 기하학적 정확도가 약간 낮습니다. 'int_zooming'이 'false'로 설정된 경우, 내부 계산은 부동 소수점 연산을 사용하여 수행되어 최대 기하학적 정확도를 달성하지만, 실행 시간이 크게 증가합니다.

#### **주의 사항**
이중 선형 또는 삼차 보간을 사용할 때, 측정 직사각형뿐만 아니라 직사각형 주변의 여백도 이미지에 맞아야 한다는 점에 유의하십시오. 여백의 너비(모든 네 방향)는 이중 선형 보간의 경우 최소 한 픽셀, 삼차 보간의 경우 최소 두 픽셀이어야 합니다. 이 조건을 충족하지 않는 투영선에 대해서는 그레이 값이 계산되지 않으므로 해당 위치에서 에지를 추출할 수 없습니다.

또한, 직사각형의 중심 좌표가 내부적으로 반올림되어 중심이 픽셀 그리드에 놓이도록 한다는 점을 유의하십시오. 이는 일관성을 보장하기 위함입니다.

#### **실행 정보**
- 멀티스레딩 타입: 재진입 가능(독점적이지 않은 연산자와 병렬로 실행됨).
- 멀티스레딩 범위: 전역(어떤 스레드에서도 호출될 수 있음).
- 병렬 처리 없이 처리됨.
- 이 연산자는 핸들을 반환합니다. 이 핸들 타입의 인스턴스 상태는 특정 연산자에 의해 변경될 수 있습니다.

#### **매개변수**
- **Row (input_control)**: `rectangle2.center.y → (real / integer)`  
  직사각형 중심의 행 좌표.
  
  - 기본값: 300.0
  - 제안된 값: 10.0, 20.0, 50.0, 100.0, 200.0, 300.0, 400.0, 500.0
  - 값의 범위: 0.0 ≤ Row ≤ 511.0 (선형)
  - 최소 증분: 1.0
  - 권장 증분: 10.0

- **Column (input_control)**: `rectangle2.center.x → (real / integer)`  
  직사각형 중심의 열 좌표.
  
  - 기본값: 200.0
  - 제안된 값: 10.0, 20.0, 50.0, 100.0, 200.0, 300.0, 400.0, 500.0
  - 값의 범위: 0.0 ≤ Column ≤ 511.0 (선형)
  - 최소 증분: 1.0
  - 권장 증분: 10.0

- **Phi (input_control)**: `rectangle2.angle.rad → (real / integer)`  
  직사각형의 장축이 수평선과 이루는 각도(라디안).
  
  - 기본값: 0.0
  - 제안된 값: -1.178097, -0.785398, -0.392699, 0.0, 0.392699, 0.785398, 1.178097
  - 값의 범위: -1.178097 ≤ Phi ≤ 1.178097 (선형)
  - 최소 증분: 0.001
  - 권장 증분: 0.1
  - 제한: -π < Phi && Phi <= π

- **Length1 (input_control)**: `rectangle2.hwidth → (real / integer)`  
  직사각형의 절반 너비.
  
  - 기본값: 100.0
  - 제안된 값: 3.0, 5.0, 10.0, 15.0, 20.0, 50.0, 100.0, 200.0, 300.0, 500.0
  - 값의 범위: 1.0 ≤ Length1 ≤ 511.0 (선형)
  - 최소 증분: 1.0
  - 권장 증분: 10.0
  - 제한: Length1 >= 1.0

- **Length2 (input_control)**: `rectangle2.hheight → (real / integer)`  
  직사각형의 절반 높이.
  
  - 기본값: 20.0
  - 제안된 값: 1.0, 2.0, 3.0, 5.0, 10.0, 15.0, 20.0, 50.0, 100.0, 200.0
  - 값의 범위: 0.0 ≤ Length2 ≤ 511.0 (선형)
  - 최소 증분: 1.0
  - 권장 증분: 10.0
  - 제한: Length2 >= 0.0

- **Width (input_control)**: `extent.x → (integer)`  
  이후 처리할 이미지의 너비.
  
  - 기본값: 512
  - 제안된 값: 128, 160, 192, 256, 320, 384, 512, 640, 768
  - 값의 범위: 0 ≤ Width ≤ 1024 (선형)
  - 최소 증분: 1
  - 권장 증분: 16

- **Height (input_control)**: `extent.y → (integer)`  
  이후 처리할 이미지의 높이.
  
  - 기본값: 512
  - 제안된 값: 120, 128, 144, 240, 256, 288, 480, 512, 576
  - 값의 범위: 0 ≤ Height ≤ 1024 (선형)
  - 최소 증분: 1
  - 권장 증분: 16

- **Interpolation (input_control)**: `string → (string)`  
  사용할 보간 유형.
  
  - 기본값: 'nearest_neighbor'
  - 값 목록: 'bicubic', 'bilinear', 'nearest_neighbor'

- **MeasureHandle (output_control)**: `measure → (handle)`  
  측정 객체 핸들.

#### **결과**
매개변수 값이 올바른 경우 **gen_measure_rectangle2** 연산자는 값 2 (H_MSG_TRUE)를 반환합니다. 그렇지 않으면 예외가 발생합니다.